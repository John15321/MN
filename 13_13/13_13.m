function [x,fx]=goldenSection(xl,xu,maxit,es,option)
    fxl=f(xl);
    fxu=f(xu);
    R=(sqrt(5)-1)/2;
    if option=="max"
        opt=1;
    end
    if option=="min"
        opt=0;
    end
    for i=1:maxit
        d=R*(xu-xl);
        x1=xl+d;
        x2=xu-d;
        fx1=f(x1);
        fx2=f(x2);
        fprintf("%d %g %g %g %g %g %g %g %g %g\n",i,xl,fxl,x2,fx2,x1,fx1,xu,fxu,d);
        e=max((1-R)*(xu-xl)/x1,(1-R)*(xu-xl)/x2);
        if abs(e)<es
            break
        end
        test=(fx1>fx2);
        if opt==test
            xl=x2;
            fxl=fx2;
        else
            xu=x1;
            fxu=fx1;
        end
    end
    test=(fx1>fx2);
    if opt==test
        x=x1;
        fx=fx1;
    else
        x=x2;
        fx=fx2;
    end
end

function y=f(x)
    y=2*sin(x)-x^2/10;
end



% OUTPUT:

% octave:3> [x,fx]=goldenSection(0,4,8,0.0001,"min")
% 1 0 0 1.52786 1.76472 2.47214 0.629974 4 -3.1136 2.47214
% 2 1.52786 1.76472 2.47214 0.629974 3.05573 -0.762229 4 -3.1136 1.52786
% 3 2.47214 0.629974 3.05573 -0.762229 3.41641 -1.70992 4 -3.1136 0.944272
% 4 3.05573 -0.762229 3.41641 -1.70992 3.63932 -2.27933 4 -3.1136 0.583592
% 5 3.41641 -1.70992 3.63932 -2.27933 3.77709 -2.61379 4 -3.1136 0.36068
% 6 3.63932 -2.27933 3.77709 -2.61379 3.86223 -2.81142 4 -3.1136 0.222912
% 7 3.77709 -2.61379 3.86223 -2.81142 3.91486 -2.92956 4 -3.1136 0.137767
% 8 3.86223 -2.81142 3.91486 -2.92956 3.94738 -3.00093 4 -3.1136 0.0851449
% x =  3.9474
% fx = -3.0009




% octave:4> [x,fx]=goldenSection(0,4,8,0.0001,"max")
% 1 0 0 1.52786 1.76472 2.47214 0.629974 4 -3.1136 2.47214
% 2 0 0 0.944272 1.53098 1.52786 1.76472 2.47214 0.629974 1.52786
% 3 0.944272 1.53098 1.52786 1.76472 1.88854 1.54322 2.47214 0.629974 0.944272
% 4 0.944272 1.53098 1.30495 1.75945 1.52786 1.76472 1.88854 1.54322 0.583592
% 5 1.30495 1.75945 1.52786 1.76472 1.66563 1.71358 1.88854 1.54322 0.36068
% 6 1.30495 1.75945 1.44272 1.77547 1.52786 1.76472 1.66563 1.71358 0.222912
% 7 1.30495 1.75945 1.3901 1.7742 1.44272 1.77547 1.52786 1.76472 0.137767
% 8 1.3901 1.7742 1.44272 1.77547 1.47524 1.77324 1.52786 1.76472 0.0851449
% x =  1.4427
% fx =  1.7755